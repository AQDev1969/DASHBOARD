"use strict";(self["webpackChunkhc2"]=self["webpackChunkhc2"]||[]).push([[61],{9061:(e,t,l)=>{l.r(t),l.d(t,{default:()=>f});var o=l(3673);const n={class:"q-pa-md",style:{"max-width":"400px"}},s=(0,o.Uk)("Go to About");function u(e,t,l,u,r,a){const i=(0,o.up)("router-link"),m=(0,o.up)("q-input"),d=(0,o.up)("q-btn"),c=(0,o.up)("q-form");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(i,{to:"/home"},{default:(0,o.w5)((()=>[s])),_:1}),(0,o.Wm)(c,{onSubmit:u.onSubmit,onReset:u.onReset,class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{dense:"",filled:"",modelValue:u.login,"onUpdate:modelValue":t[0]||(t[0]=e=>u.login=e),label:"Login","lazy-rules":"",rules:[e=>e&&e.length>0||"Entrer votre Login",e=>e.length>2||"Longueur doit Ãªtre > 2 car",e=>e.length<11||"Longueur max 10 car"]},null,8,["modelValue","rules"]),(0,o.Wm)(m,{dense:"",filled:"",type:"password",modelValue:u.password,"onUpdate:modelValue":t[1]||(t[1]=e=>u.password=e),label:"Password","lazy-rules":"",rules:[]},null,8,["modelValue","rules"]),(0,o._)("div",null,[(0,o.Wm)(d,{label:"Submit",type:"submit",color:"primary"}),(0,o.Wm)(d,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"])])}l(2100),l(6701);var r=l(1959);l(1988);var a=l(9582);const i={setup(){const e=(0,r.iH)(null),t=(0,r.iH)(null),l=(0,r.iH)(null),o=(0,a.tv)(),n=(0,a.yj)();function s(){return fetch("http://localhost:3000/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e.value,password:t.value})}).then((e=>{if(console.log(e),!e.ok){const t=new Error(e.statusText);throw t.json=e.json(),alert(t),t}return e.json()})).then((e=>{sessionStorage.setItem("jwt",e.token),sessionStorage.setItem("userId",e.userId);const t=n.query.redirect||"/home";o.push(t)})).catch((e=>{if(l.value=e,e.json)return e.json.then((e=>{l.value.message=e.message}))})).then((()=>{}))}return{login:e,password:t,onReset(){e.value=null,t.value=null},onSubmit(){s()}}}};var m=l(4260),d=l(8689),c=l(4842),p=l(8240),h=l(7518),g=l.n(h);const b=(0,m.Z)(i,[["render",u]]),f=b;g()(i,"components",{QForm:d.Z,QInput:c.Z,QBtn:p.Z})}}]);