var L=Object.defineProperty;var p=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var x=(t,i,e)=>i in t?L(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,T=(t,i)=>{for(var e in i||(i={}))P.call(i,e)&&x(t,e,i[e]);if(p)for(var e of p(i))C.call(i,e)&&x(t,e,i[e]);return t};import{k as Q,bx as j,as as b,br as w,al as y,ao as m,bG as O,ac as k,a9 as E,bH as g,aY as D}from"./index.95299443.js";import{f as H,h as M,i as N}from"./selection.6e7343eb.js";function V(){const t=Q(!j.value);return t.value===!1&&b(()=>{t.value=!0}),t}const R=typeof ResizeObserver!="undefined",z=R===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var B=w({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:i}){let e=null,n,l={width:-1,height:-1};function c(o){o===!0||t.debounce===0||t.debounce==="0"?a():e===null&&(e=setTimeout(a,t.debounce))}function a(){if(clearTimeout(e),e=null,n){const{offsetWidth:o,offsetHeight:r}=n;(o!==l.width||r!==l.height)&&(l={width:o,height:r},i("resize",l))}}const d=E();if(Object.assign(d.proxy,{trigger:c}),R===!0){let o;return b(()=>{y(()=>{n=d.proxy.$el.parentNode,n&&(o=new ResizeObserver(c),o.observe(n),a())})}),m(()=>{clearTimeout(e),o!==void 0&&(o.disconnect!==void 0?o.disconnect():n&&o.unobserve(n))}),O}else{let f=function(){clearTimeout(e),r!==void 0&&(r.removeEventListener!==void 0&&r.removeEventListener("resize",c,g.passive),r=void 0)},u=function(){f(),n&&n.contentDocument&&(r=n.contentDocument.defaultView,r.addEventListener("resize",c,g.passive),a())};const o=V();let r;return b(()=>{y(()=>{n=d.proxy.$el,n&&u()})}),m(f),()=>{if(o.value===!0)return k("object",{style:z.style,tabindex:-1,type:"text/html",data:z.url,"aria-hidden":"true",onLoad:u})}}}});const{passive:S}=g,$=["both","horizontal","vertical"];var G=w({name:"QScrollObserver",props:{axis:{type:String,validator:t=>$.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(t,{emit:i}){const e={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,l,c;D(()=>t.scrollTarget,()=>{o(),d()});function a(){n!==null&&n();const u=Math.max(0,M(l)),v=N(l),s={top:u-e.position.top,left:v-e.position.left};if(t.axis==="vertical"&&s.top===0||t.axis==="horizontal"&&s.left===0)return;const h=Math.abs(s.top)>=Math.abs(s.left)?s.top<0?"up":"down":s.left<0?"left":"right";e.position={top:u,left:v},e.directionChanged=e.direction!==h,e.delta=s,e.directionChanged===!0&&(e.direction=h,e.inflectionPoint=e.position),i("scroll",T({},e))}function d(){l=H(c,t.scrollTarget),l.addEventListener("scroll",r,S),r(!0)}function o(){l!==void 0&&(l.removeEventListener("scroll",r,S),l=void 0)}function r(u){if(u===!0||t.debounce===0||t.debounce==="0")a();else if(n===null){const[v,s]=t.debounce?[setTimeout(a,t.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];n=()=>{s(v),n=null}}}const f=E();return b(()=>{c=f.proxy.$el.parentNode,d()}),m(()=>{n!==null&&n(),o()}),Object.assign(f.proxy,{trigger:r,getPosition:()=>e}),O}});export{B as Q,G as a};
