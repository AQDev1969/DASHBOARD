import{c as C}from"./_commonjsHelpers.2cf1d77b.js";import{k as p}from"./index.d3ddad92.js";var b={exports:{}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */(function(f,d){(function(g){var v=d,x=f&&f.exports==v&&f,s=typeof C=="object"&&C;(s.global===s||s.window===s)&&(g=s);var r=function(e){this.message=e};r.prototype=new Error,r.prototype.name="InvalidCharacterError";var t=function(e){throw new r(e)},a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=/[\t\n\f\r ]/g,F=function(e){e=String(e).replace(w,"");var c=e.length;c%4==0&&(e=e.replace(/==?$/,""),c=e.length),(c%4==1||/[^+a-zA-Z0-9/]/.test(e))&&t("Invalid character: the string to be decoded is not correctly encoded.");for(var i=0,n,h,l="",A=-1;++A<c;)h=a.indexOf(e.charAt(A)),n=i%4?n*64+h:h,i++%4&&(l+=String.fromCharCode(255&n>>(-2*i&6)));return l},y=function(e){e=String(e),/[^\0-\xFF]/.test(e)&&t("The string to be encoded contains characters outside of the Latin1 range.");for(var c=e.length%3,i="",n=-1,h,l,A,o,E=e.length-c;++n<E;)h=e.charCodeAt(n)<<16,l=e.charCodeAt(++n)<<8,A=e.charCodeAt(++n),o=h+l+A,i+=a.charAt(o>>18&63)+a.charAt(o>>12&63)+a.charAt(o>>6&63)+a.charAt(o&63);return c==2?(h=e.charCodeAt(n)<<8,l=e.charCodeAt(++n),o=h+l,i+=a.charAt(o>>10)+a.charAt(o>>4&63)+a.charAt(o<<2&63)+"="):c==1&&(o=e.charCodeAt(n),i+=a.charAt(o>>2)+a.charAt(o<<4&63)+"=="),i},u={encode:y,decode:F,version:"1.0.0"};if(v&&!v.nodeType)if(x)x.exports=u;else for(var m in u)u.hasOwnProperty(m)&&(v[m]=u[m]);else g.base64=u})(C)})(b,b.exports);const j=()=>{p([]),p([]),p(null),p(null),p(null);const f="http://172.31.44.27:10580/",d=new Headers;d.append("Content-Type","application/json"),d.append("Accept","application/json"),d.append("Content-Security-Policy","upgrade-insecure-requests");const g=async s=>{d.set("Authorization","Basic "+sessionStorage.getItem("auth"));const r={status:0,message:null,data:null};try{const t=await fetch(f+s,{method:"GET",headers:d});if(console.log(t),t.ok){const a=await t.json();return r.status=1,r.message=t.status+" - Donn\xE9es re\xE7ues",r.data=a,r}else return r.status=0,r.message=t.status+" - "+t.statusText,r}catch(t){return r.status=0,r.message=t.message,r}};return{getMagasins:()=>{g("magasins").then(s=>{console.log(s)})},doRequest:g,initAuthHeader:(s,r)=>{const t=b.exports.encode(s+":"+r);sessionStorage.setItem("auth",t)}}};export{j as a,b};
