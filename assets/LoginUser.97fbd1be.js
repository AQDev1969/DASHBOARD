import{Q as u}from"./QInput.694ee81c.js";import{bA as c,bZ as p,k as m,ay as g,W as b,a2 as t,b1 as f,X as S,bC as d}from"./index.2638693e.js";import{Q as y}from"./QForm.a71152bc.js";import{u as h}from"./use-quasar.e1b3d304.js";import{a as w}from"./apiService.93a6a825.js";import"./use-key-composition.96e21386.js";import"./use-dark.a96081f2.js";import"./format.2bc25e5f.js";import"./_commonjsHelpers.2cf1d77b.js";const R={setup(){const{doRequest:i,initAuthHeader:s}=w(),a=h(),o=p(),l=m(null),n=m(null);return{login:l,pw:n,onSubmit:()=>{a.loading.show({message:"En attente de la connexion..."}),sessionStorage.clear(),s(l.value,n.value),i("").then(r=>{switch(a.loading.hide(),r.status){case 1:o.push("/planning"),a.notify({color:"green",icon:"cloud_done",message:"connect\xE9 au Dashboard"});break;case-1:sessionStorage.clear(),a.notify({message:"Erreur: "+r.message});break;case 0:sessionStorage.clear(),a.notify({message:"Login ou mot de passe non valide ["+r.message+"]"})}})},onReset:()=>{l.value=null,n.value=null}}}},V={class:"q-pa-md",style:{"max-width":"400px"}};function _(i,s,a,o,l,n){return g(),b("div",V,[t(y,{onSubmit:o.onSubmit,onReset:o.onReset,class:"q-gutter-sm"},{default:f(()=>[t(u,{filled:"",modelValue:o.login,"onUpdate:modelValue":s[0]||(s[0]=e=>o.login=e),label:"Login","lazy-rules":"",rules:[e=>e&&e.length>0||"Saisir le Login"]},null,8,["modelValue","rules"]),t(u,{filled:"",type:"password",modelValue:o.pw,"onUpdate:modelValue":s[1]||(s[1]=e=>o.pw=e),label:"Mot de passe","lazy-rules":"",rules:[e=>e!==null&&e!==""||"Saisir le mot de passe"]},null,8,["modelValue","rules"]),S("div",null,[t(d,{label:"Submit",type:"submit",color:"primary"}),t(d,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]),_:1},8,["onSubmit","onReset"])])}var A=c(R,[["render",_]]);export{A as default};
